'use strict';

angular.module('profiles', []);
'use strict';

angular.module('profiles').directive('newProfile', function () {
  return {
    restrict: 'E',
    scope: {},
    templateUrl: './newprofile.html',
    controller["$scope", "profileSvc", ($scope, profileSvc) {
      $scope.skills = [''];
      $scope.postProfile = function () {
        profileSvc.postProfile($scope.name, $scope.age, $scope.img, $scope.skills);
      };
    }]
  };
});
'use strict';

angular.module('profiles').directive('profile', function () {
  return {
    restrict: 'E',
    scope: {
      profile: '='
    },
    templateUrl: './profile.html'
  };
});
'use strict';

angular.module('profiles').factory('profileSvc', ["$http", function ($http) {
  return {
    getProfiles() {
      return $http.get('/api/profile').then(profiles => profiles.data);
    },
    postProfile(name, age, url, skills) {
      return $http.post('/api/profile', {
        name,
        age,
        url,
        skills
      });
    }
  };
}]);
'use strict';

angular.module('profiles').controller('rootCtrl', ["$scope", "profileSvc", function ($scope, profileSvc) {
  profileSvc.getProfiles().then(profiles => $scope.profiles = profiles);
}]);