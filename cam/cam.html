<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>cam</title>
    <style>
      html,body,video{height:100%;width:100%;margin:0;}
      video{display:block;}
    </style>
    <script type="text/javascript">
      var gui = require('nw.gui')
      if(process.platform == 'darwin'){
        var menu = new gui.Menu({type: 'menubar'})
        menu.createMacBuiltin && menu.createMacBuiltin(window.document.title)
        gui.Window.get().menu = menu
      }
      navigator.webkitGetUserMedia({video: true},
        function(stream){document.getElementById('camera').src = URL.createObjectURL(stream)},
        function(){alert('could not connect stream')})
      gui.Window.get().show()
   </script>
  </head>
  <body>
    <video id="camera" autoplay></video>
  </body>
</html>
